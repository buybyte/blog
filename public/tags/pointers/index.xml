<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Hextra – Pointers</title>
    <link>http://localhost:1313/tags/pointers/</link>
    <description>Recent content in Pointers on Hextra</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Wed, 28 Apr 2021 16:04:36 +0800</lastBuildDate>
    
	  <atom:link href="http://localhost:1313/tags/pointers/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>asm-pointers-and-memory</title>
      <link>http://localhost:1313/blog/asm-pointers-and-memory/</link>
      <pubDate>Wed, 28 Apr 2021 16:04:36 +0800</pubDate>
      
      <guid>http://localhost:1313/blog/asm-pointers-and-memory/</guid>
      <description>
        
        
        &lt;h2&gt;Basic Pointer&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;basic-pointer&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#basic-pointer&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;为啥需要 Pointer？&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;为啥需要-pointer&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#%e4%b8%ba%e5%95%a5%e9%9c%80%e8%a6%81-pointer&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;更容易&lt;/code&gt;在不同代码段之间&lt;code&gt;共享&lt;/code&gt;信息，在不同代码段之间来回复制也是可以的。但用指针的形式更好。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;链式&lt;/code&gt;数据结构, 如链表和二叉树。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;pointer dereference&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;pointer-dereference&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#pointer-dereference&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;指针必须要有指向的值，才可以 dereference。
没有指向的指针，dereference 时会 runtime error。&lt;/p&gt;
&lt;h3&gt;NULL pointer&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;null-pointer&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#null-pointer&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;C -&amp;gt; NULL -&amp;gt; 0 -&amp;gt; false
java -&amp;gt; null&lt;/p&gt;
&lt;h3&gt;pointer assignment&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;pointer-assignment&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#pointer-assignment&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;指针赋值&lt;/p&gt;
&lt;h3&gt;copy&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;copy&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#copy&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h4&gt;shallow copy&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;shallow-copy&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#shallow-copy&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;copy reference&lt;/p&gt;
&lt;h4&gt;deep copy&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;deep-copy&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deep-copy&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;copy real value&lt;/p&gt;
&lt;h2&gt;two levels&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;two-levels&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#two-levels&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://github.com/stardustman/pictures/raw/main/img/clang/memory_and_pointers-two-levels.svg&#34; alt=&#34;two-levels&#34; loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;C 语言下指针探析&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;c-语言下指针探析&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#c-%e8%af%ad%e8%a8%80%e4%b8%8b%e6%8c%87%e9%92%88%e6%8e%a2%e6%9e%90&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;div class=&#34;hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;pointer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
    &lt;div class=&#34;success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code&#34;&gt;

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-asm&#34; data-lang=&#34;asm&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nl&#34;&gt;pointer:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;pushq&lt;/span&gt;   &lt;span class=&#34;nv&#34;&gt;%rbp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;movq&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;%rsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%rbp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;movq&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;%rdi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;%rbp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;movq&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;%rbp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%rax&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;movq&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;%rax&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;%rbp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;movq&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;%rbp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%rax&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;movq&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;%rax&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%rax&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;popq&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;%rbp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;ret&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
    &lt;div class=&#34;success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&#34;https://github.com/stardustman/pictures/raw/main/img/clang/asm-pointer.png&#34; alt=&#34;clang-pointer&#34; loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;p&gt;由上可知：&lt;code&gt;long *p = (long*)ptr&lt;/code&gt; 被编译成&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;movq    -8(%rbp), %rax   %rax 这个寄存器里放的是传来的指针&lt;/li&gt;
&lt;li&gt;movq    (%rax), %rax     (%rax) 寄存器&lt;code&gt;间接寻址&lt;/code&gt;，也就是取寄存器 %rax 指向的内存里的值。这就是指针在汇编层面的意义。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;memory&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;memory&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#memory&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;variable -&amp;gt; variable name -&amp;gt; memory
编译后，变量名就没有了。&lt;/p&gt;
&lt;h3&gt;local memory&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;local-memory&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#local-memory&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;blockquote&gt;
  &lt;p&gt;local memory is allocated automatically on function call and it is deallocated automatically when a function exits.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;编译器管理 local memory，size 编译时决定。
Local memory 最根本的性质：相互独立，这是本地内存优点和缺点的根本原因。&lt;/p&gt;
&lt;h4&gt;stack frame&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;stack-frame&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#stack-frame&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;local memory 通过调用函数时创建的&lt;code&gt;栈帧&lt;/code&gt;来体现。&lt;/p&gt;
&lt;h5&gt;allocation&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;allocation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#allocation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;栈帧创建时, local variable 一并创建。&lt;/p&gt;
&lt;h5&gt;deallocation&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;deallocation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deallocation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;栈帧销毁时，local variable 一并销毁。&lt;/p&gt;
&lt;h5&gt;lifetime&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;lifetime&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lifetime&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;随着函数栈帧同生共死。&lt;/p&gt;
&lt;h5&gt;local/stack/automatic variable&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;localstackautomatic-variable&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#localstackautomatic-variable&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h5&gt;&lt;p&gt;栈帧中的变量。
local/automatic 底层经常使用 stack 结构来实现。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://github.com/stardustman/pictures/raw/main/img/clang/clang-square-function.png&#34; alt=&#34;栈帧-lexical-scope&#34; loading=&#34;lazy&#34; /&gt;&lt;/p&gt;
&lt;h5&gt;advantage of locals&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;advantage-of-locals&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#advantage-of-locals&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;convenient. 函数需要临时的内存空间做计算，计算完毕后，释放。&lt;/li&gt;
&lt;li&gt;efficient. 分配和释放都很快。&lt;/li&gt;
&lt;li&gt;local copies.
&lt;blockquote&gt;
  &lt;p&gt;pass by value
local parameters are basically local copies of the information from the caller.
caller 原值
callee 副本，如何修改不影响 caller 中的值
软件设计原则：seperate components&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;disadvantage of locals&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;disadvantage-of-locals&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#disadvantage-of-locals&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;short lifetime. 和栈帧同生共死。(heap memory 解决)&lt;/li&gt;
&lt;li&gt;restricted communication。caller&amp;rsquo;s parameter -&amp;gt; callee 单向通信。(reference parameter 解决)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;heap/dynamic memory&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;heapdynamic-memory&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#heapdynamic-memory&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;malloc()
free()&lt;/p&gt;
&lt;h4&gt;lifetime&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;lifetime-1&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lifetime-1&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;程序员自主决定何时申请内存, 申请多少内存，何时释放内存。
runtime 决定。&lt;/p&gt;
&lt;h2&gt;parameter&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;parameter&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#parameter&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;pass by value&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;pass-by-value&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#pass-by-value&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;local copy
caller parameter(原值)
callee parameter(副本)
separate components&lt;/p&gt;
&lt;h3&gt;pass by reference&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;pass-by-reference&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#pass-by-reference&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;其实就是指针。这个二级结构。
pointer(上级)，把上级传出去，就可以指挥下级了。
pointee(下级)
一级指针也可以理解为 &lt;code&gt;hop&lt;/code&gt;，非常像 router 中的下一跳。&lt;/p&gt;
&lt;h2&gt;ownership&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;ownership&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ownership&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;blockquote&gt;
  &lt;p&gt;each blok of memory has &lt;code&gt;exactly one&lt;/code&gt; &amp;ldquo;owner&amp;rdquo; who takes responsibility for &lt;code&gt;deallocating&lt;/code&gt; it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;caller ownership&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;caller-ownership&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#caller-ownership&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h3&gt;callee allocated and return&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;callee-allocated-and-return&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#callee-allocated-and-return&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h2&gt;Reference&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;reference&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#reference&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://cslibrary.stanford.edu/102/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;memory and pointers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://man7.org/linux/man-pages/man3/malloc.3.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;malloc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://man7.org/linux/man-pages/man3/free.3p.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://godbolt.org/z/ncfo1q4M7&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;square-function&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
  </channel>
</rss>
